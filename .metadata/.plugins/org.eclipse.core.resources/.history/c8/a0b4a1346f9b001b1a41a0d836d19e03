package NegozioTreni;

import Exceptions.NegozioInesistenteException;
import Treni.Treno;

public class VenditoreTreni {

	private NegozioTreni negozio;

	public VenditoreTreni() {
	}

	public final Treno ordinaTreno(String ordine, int negozio) throws Exception {
		if (controllaNegozio(negozio)) {
			if (controllaOrdine(ordine)) {
				if (negozio == 0)
					this.negozio = new NegozioFrecciaRossa();
				else
					this.negozio = new NegozioTrenitalia();
				return this.negozio.ordinaTreno(ordine);
			}
		}
		return null;
	}

	public final Treno aggiungiCarrozza(String ordine, int negozio, Treno treno) throws Exception {
		if (controllaNegozio(negozio)) {
			if (controllaAggiunta(ordine)) {
				if (negozio == 0)
					this.negozio = new NegozioFrecciaRossa();
				else
					this.negozio = new NegozioTrenitalia();
				this.negozio.aggiungiCarrozza(ordine, treno);
				return treno;
			}
		}
		return null;
	}

	private boolean controllaOrdine(String ordine) {
		return true;
	}

	private boolean controllaAggiunta(String ordine) {
		return true;
	}

	private boolean controllaNegozio(int negozio) throws Exception{
		if(negozio < 0 || negozio > 1) {
			 throw new NegozioInesistenteException();
			 return false;
		}
		return true;
	}
}
